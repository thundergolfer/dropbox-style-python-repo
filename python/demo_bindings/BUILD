# @generated: This file was generated by bzl. Do not modify!
# Argument overrides and custom targets should be specified in BUILD.in.

load("@dbx_build_tools//build_tools/py:py.bzl", "dbx_py_binary")

# TODO(Jonathon): Benjamin P from Dropbox says the exe and runfiles can be copied directly to most Linux
#                 machines, but how is that actually done at Dropbox? See: # https://youtu.be/BnYUn7slfgk?t=862
#                 I tried using Bazel's zipper but it ignores the runfiles. Do they have a small bit of custom Starlark to
#                 to pkg up things?
dbx_py_binary(
    name = "ctypes_test",
    srcs = [
        "ctypes_test.py",
    ],
    autogen_deps = False,
    data = [
        ":libcmult.so",
    ],
    main = "ctypes_test.py",
    deps = [
        "@dbx_build_tools//dropbox:runfiles",
    ],
)

#dbx_py_binary(
#    name = "cython_test",
#    main = "cython_test.py",
#)

cc_binary(
    name = "libcmult.so",
    srcs = [
        "cmult.c",
        "cmult.h",
    ],
    linkshared = True,
    linkstatic = True,
)
